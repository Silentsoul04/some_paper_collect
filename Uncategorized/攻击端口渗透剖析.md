> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/AwsNVfJkT3aqVE-3FI7TTw)

**21 端口渗透剖析**

FTP 通常用作对远程服务器进行管理，典型应用就是对 web 系统进行管理。一旦 FTP 密码泄露就直接威胁 web 系统安全，甚至黑客通过提权可以直接控制服务器。这里剖析渗透 FTP 服务器的几种方法。

（1）基础爆破：ftp 爆破工具很多，这里我推 owasp 的 Bruter,hydra 以及 msf 中的 ftp 爆破模块。

（2) ftp 匿名访问：用户名：anonymous 密码：为空或者任意邮箱

（3）后门 vsftpd ：version 2 到 2.3.4 存在后门漏洞，攻击者可以通过该漏洞获取 root 权限。（https://www.freebuf.com/column/143480.html）

（4）嗅探：ftp 使用明文传输技术（但是嗅探给予局域网并需要欺骗或监听网关）, 使用 Cain 进行渗透。

（5）ftp 远程代码溢出。（https://blog.csdn.net/weixin_42214273/article/details/82892282）

（6）ftp 跳转攻击。（https://blog.csdn.net/mgxcool/article/details/48249473）

**22 端口渗透剖析**

SSH 是协议，通常使用 OpenSSH 软件实现协议应用。SSH 为 Secure Shell 的缩写，由 IETF 的网络工作小组（Network Working Group）所制定；SSH 为建立在应用层和传输层基础上的安全协议。SSH 是目前较可靠，专为远程登录会话和其它网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。

（1）弱口令，可使用工具 hydra，msf 中的 ssh 爆破模块。

（2）防火墙 SSH 后门。（https://www.secpulse.com/archives/69093.html）

（3）28 退格 OpenSSL

（4）openssh 用户枚举 CVE-2018-15473。（https://www.anquanke.com/post/id/157607）

**23 端口渗透剖析**

telnet 是一种旧的远程管理方式，使用 telnet 工具登录系统过程中，网络上传输的用户和密码都是以明文方式传送的，黑客可使用嗅探技术截获到此类密码。

（1）暴力破解技术是常用的技术，使用 hydra, 或者 msf 中 telnet 模块对其进行破解。

（2）在 linux 系统中一般采用 SSH 进行远程访问，传输的敏感数据都是经过加密的。而对于 windows 下的 telnet 来说是脆弱的，因为默认没有经过任何加密就在网络中进行传输。使用 cain 等嗅探工具可轻松截获远程登录密码。

**25/465** **端口渗透剖析**

smtp：邮件协议，在 linux 中默认开启这个服务，可以向对方发送钓鱼邮件

默认端口：25（smtp）、465（smtps）

（1）爆破：弱口令

（2）未授权访问

**53 端口渗透剖析**

53 端口是 DNS 域名服务器的通信端口，通常用于域名解析。也是网络中非常关键的服务器之一。这类服务器容易受到攻击。对于此端口的渗透，一般有三种方式。

（1）使用 DNS 远程溢出漏洞直接对其主机进行溢出攻击，成功后可直接获得系统权限。（https://www.seebug.org/vuldb/ssvid-96718）（2）使用 DNS 欺骗攻击，可对 DNS 域名服务器进行欺骗，如果黑客再配合网页木马进行挂马攻击，无疑是一种杀伤力很强的攻击，黑客可不费吹灰之力就控制内网的大部分主机。这也是内网渗透惯用的技法之一。（https://baijiahao.baidu.com/s?id=1577362432987749706&wfr=spider&for=pc）（3）拒绝服务攻击，利用拒绝服务攻击可快速的导致目标服务器运行缓慢，甚至网络瘫痪。如果使用拒绝服务攻击其 DNS 服务器。将导致用该服务器进行域名解析的用户无法正常上网。（http://www.edu.cn/xxh/fei/zxz/201503/t20150305_1235269.shtml）（4）DNS 劫持。（https://blog.csdn.net/qq_32447301/article/details/77542474）

**80 端口渗透剖析**

80 端口通常提供 web 服务。目前黑客对 80 端口的攻击典型是采用 SQL 注入的攻击方法，脚本渗透技术也是一项综合性极高的 web 渗透技术，同时脚本渗透技术对 80 端口也构成严重的威胁。

（1）对于 windows2000 的 IIS5.0 版本，黑客使用远程溢出直接对远程主机进行溢出攻击，成功后直接获得系统权限。

（2）对于 windows2000 中 IIS5.0 版本，黑客也尝试利用‘Microsoft IISCGI’文件名错误解码漏洞攻击。使用 X-SCAN 可直接探测到 IIS 漏洞。

（3）IIS 写权限漏洞是由于 IIS 配置不当造成的安全问题，攻击者可向存在此类漏洞的服务器上传恶意代码，比如上传脚本木马扩大控制权限。

（4）普通的 http 封包是没有经过加密就在网络中传输的，这样就可通过嗅探类工具截取到敏感的数据。如使用 Cain 工具完成此类渗透。

（5）80 端口的攻击，更多的是采用脚本渗透技术，利用 web 应用程序的漏洞进行渗透是目前很流行的攻击方式。

（6）对于渗透只开放 80 端口的服务器来说，难度很大。利用端口复用工具可解决此类技术难题。

（7）CC 攻击效果不及 DDOS 效果明显，但是对于攻击一些小型 web 站点还是比较有用的。CC 攻击可使目标站点运行缓慢，页面无法打开，有时还会爆出 web 程序的绝对路径。

**135 端口渗透剖析**

135 端口主要用于使用 RPC 协议并提供 DCOM 服务，通过 RPC 可以保证在一台计算机上运行的程序可以顺利地执行远程计算机上的代码；使用 DCOM 可以通过网络直接进行通信，能够跨包括 HTTP 协议在内的多种网络传输。同时这个端口也爆出过不少漏洞，最严重的就是缓冲区溢出漏洞，曾经疯狂一时的‘冲击波’病毒就是利用这个漏洞进行传播的。对于 135 端口的渗透，黑客的渗透方法为:

（1）查找存在 RPC 溢出的主机，进行远程溢出攻击，直接获得系统权限。如用‘DSScan’扫描存在此漏洞的主机。对存在漏洞的主机可使用‘ms05011.exe’进行溢出，溢出成功后获得系统权限。（https://wenku.baidu.com/view/68b3340c79563c1ec5da710a.html）（2）扫描存在弱口令的 135 主机，利用 RPC 远程过程调用开启 telnet 服务并登录 telnet 执行系统命令。系统弱口令的扫描一般使用 hydra。对于 telnet 服务的开启可使用工具 kali 链接。（https://wenku.baidu.com/view/c8b96ae2700abb68a982fbdf.html）

**139/445 端口渗透剖析** 139 端口是为‘NetBIOS SessionService’提供的，主要用于提供 windows 文件和打印机共享以及 UNIX 中的 Samba 服务。445 端口也用于提供 windows 文件和打印机共享，在内网环境中使用的很广泛。这两个端口同样属于重点攻击对象，139/445 端口曾出现过许多严重级别的漏洞。下面剖析渗透此类端口的基本思路。

（1）对于开放 139/445 端口的主机，一般尝试利用溢出漏洞对远程主机进行溢出攻击，成功后直接获得系统权限。利用 msf 的 ms-017 永恒之蓝。（https://blog.csdn.net/qq_41880069/article/details/82908131）

（2）对于攻击只开放 445 端口的主机，黑客一般使用工具‘MS06040’或‘MS08067’. 可使用专用的 445 端口扫描器进行扫描。NS08067 溢出工具对 windows2003 系统的溢出十分有效，工具基本使用参数在 cmd 下会有提示。（https://blog.csdn.net/god_7z1/article/details/6773652）

（3）对于开放 139/445 端口的主机，黑客一般使用 IPC$ 进行渗透。在没有使用特点的账户和密码进行空连接时，权限是最小的。获得系统特定账户和密码成为提升权限的关键了，比如获得 administrator 账户的口令。（https://blog.warhut.cn/dmbj/145.html）

（4）对于开放 139/445 端口的主机，可利用共享获取敏感信息，这也是内网渗透中收集信息的基本途径。

**1433 端口渗透剖析** 1433 是 SQLServer 默认的端口，SQL Server 服务使用两个端口：tcp-1433、UDP-1434. 其中 1433 用于供 SQLServer 对外提供服务，1434 用于向请求者返回 SQLServer 使用了哪些 TCP/IP 端口。1433 端口通常遭到黑客的攻击，而且攻击的方式层出不穷。最严重的莫过于远程溢出漏洞了，如由于 SQL 注射攻击的兴起，各类数据库时刻面临着安全威胁。利用 SQL 注射技术对数据库进行渗透是目前比较流行的攻击方式，此类技术属于脚本渗透技术。

（1）对于开放 1433 端口的 SQL Server2000 的数据库服务器，黑客尝试使用远程溢出漏洞对主机进行溢出测试，成功后直接获得系统权限。（https://blog.csdn.net/gxj022/article/details/4593015）

（2）暴力破解技术是一项经典的技术。一般破解的对象都是 SA 用户。通过字典破解的方式很快破解出 SA 的密码。（https://blog.csdn.net/kali_linux/article/details/50499576）

（3）嗅探技术同样能嗅探到 SQL Server 的登录密码。

（4）由于脚本程序编写的不严密，例如，程序员对参数过滤不严等，这都会造成严重的注射漏洞。通过 SQL 注射可间接性的对数据库服务器进行渗透，通过调用一些存储过程执行系统命令。可以使用 SQL 综合利用工具完成。

**1521 端口渗透剖析** 1521 是大型数据库 Oracle 的默认监听端口，估计新手还对此端口比较陌生，平时大家接触的比较多的是 Access，MSSQL 以及 MYSQL 这三种数据库。一般大型站点才会部署这种比较昂贵的数据库系统。对于渗透这种比较复杂的数据库系统，黑客的思路如下：

（1）Oracle 拥有非常多的默认用户名和密码，为了获得数据库系统的访问权限，破解数据库系统用户以及密码是黑客必须攻破的一道安全防线。

（2）SQL 注射同样对 Oracle 十分有效，通过注射可获得数据库的敏感信息，包括管理员密码等。

（3）在注入点直接创建 java，执行系统命令。

（4）https://www.leiphone.com/news/201711/JjzXFp46zEPMvJod.html

**2049** **端口渗透剖析**

NFS（Network File System）即网络文件系统，是 FreeBSD 支持的文件系统中的一种，它允许网络中的计算机之间通过 TCP/IP 网络共享资源。在 NFS 的应用中，本地 NFS 的客户端应用可以透明地读写位于远端 NFS 服务器上的文件，就像访问本地文件一样。如今 NFS 具备了防止被利用导出文件夹的功能，但遗留系统中的 NFS 服务配置不当，则仍可能遭到恶意攻击者的利用。

未授权访问。（https://www.freebuf.com/articles/network/159468.html） (http://www.secist.com/archives/6192.htm)

**3306** **端口渗透剖析**

3306 是 MYSQL 数据库默认的监听端口，通常部署在中型 web 系统中。在国内 LAMP 的配置是非常流行的，对于 php+mysql 构架的攻击也是属于比较热门的话题。mysql 数据库允许用户使用自定义函数功能，这使得黑客可编写恶意的自定义函数对服务器进行渗透，最后取得服务器最高权限。对于 3306 端口的渗透，黑客的方法如下:

（1）由于管理者安全意识淡薄，通常管理密码设置过于简单，甚至为空口令。使用破解软件很容易破解此类密码，利用破解的密码登录远程 mysql 数据库，上传构造的恶意 UDF 自定义函数代码进行注册，通过调用注册的恶意函数执行系统命令。或者向 web 目录导出恶意的脚本程序，以控制整个 web 系统。

（2）功能强大的‘cain’同样支持对 3306 端口的嗅探，同时嗅探也是渗透思路的一种。（3）SQL 注入同样对 mysql 数据库威胁巨大，不仅可以获取数据库的敏感信息，还可使用 load_file() 函数读取系统的敏感配置文件或者从 web 数据库链接文件中获得 root 口令等，导出恶意代码到指定路径等。

**3389** **端口渗透剖析** 3389 是 windows 远程桌面服务默认监听的端口，管理员通过远程桌面对服务器进行维护，这给管理工作带来的极大的方便。通常此端口也是黑客们较为感兴趣的端口之一，利用它可对远程服务器进行控制，而且不需要另外安装额外的软件，实现方法比较简单。当然这也是系统合法的服务，通常是不会被杀毒软件所查杀的。使用‘输入法漏洞’进行渗透。

（1）对于 windows2000 的旧系统版本，使用‘输入法漏洞’进行渗透。

（2）cain 是一款超级的渗透工具，同样支持对 3389 端口的嗅探。

（3）Shift 粘滞键后门：5 次 shift 后门

（4）社会工程学通常是最可怕的攻击技术，如果管理者的一切习惯和规律被黑客摸透的话，那么他管理的网络系统会因为他的弱点被渗透。

（5）爆破 3389 端口。这里还是推荐使用 hydra 爆破工具。

（6）ms12_020 死亡蓝屏攻击。（https://www.cnblogs.com/R-Hacker/p/9178066.html）

（7）https://www.cnblogs.com/backlion/p/9429738.html

**4899** **端口渗透剖析** 4899 端口是 remoteadministrator 远程控制软件默认监听的端口，也就是平时常说的 radmini 影子。radmini 目前支持 TCP/IP 协议，应用十分广泛，在很多服务器上都会看到该款软件的影子。对于此软件的渗透，思路如下：

（1）radmini 同样存在不少弱口令的主机，通过专用扫描器可探测到此类存在漏洞的主机。（2）radmini 远控的连接密码和端口都是写入到注册表系统中的，通过使用 webshell 注册表读取功能可读取 radmini 在注册表的各项键值内容，从而破解加密的密码散列。

**5432 端口渗透剖析**

PostgreSQL 是一种特性非常齐全的自由软件的对象–关系型数据库管理系统，可以说是目前世界上最先进，功能最强大的自由数据库管理系统。包括 kali 系统中 msf 也使用这个数据库；浅谈 postgresql 数据库攻击技术 大部分关于它的攻击依旧是 sql 注入，所以注入才是数据库不变的话题。

（1）爆破：弱口令：postgres postgres

（2）缓冲区溢出：CVE-2014-2669。（http://drops.xmd5.com/static/drops/tips-6449.html）

（3）远程代码执行：CVE-2018-1058。（https://www.secpulse.com/archives/69153.html）

**5631** **端口渗透剖析** 5631 端口是著名远程控制软件 pcanywhere 的默认监听端口，同时也是世界领先的远程控制软件。利用此软件，用户可以有效管理计算机并快速解决技术支持问题。由于软件的设计缺陷，使得黑客可随意下载保存连接密码的 *.cif 文件，通过专用破解软件进行破解。这些操作都必须在拥有一定权限下才可完成，至少通过脚本渗透获得一个 webshell。通常这些操作在黑客界被称为 pcanywhere 提权技术。

PcAnyWhere 提权。（https://blog.csdn.net/Fly_hps/article/details/80377199

**5900** **端口渗透剖析** 5900 端口是优秀远程控制软件 VNC 的默认监听端口，此软件由著名的 AT&T 的欧洲研究实验室开发的。VNC 是在基于 unix 和 linux 操作系统的免费的开放源码软件，远程控制能力强大，高效实用，其性能可以和 windows 和 MAC 中的任何一款控制软件媲美。对于该端口的渗透，思路如下：

（1）VNC 软件存在密码验证绕过漏洞，此高危漏洞可以使得恶意攻击者不需要密码就可以登录到一个远程系统。

（2）cain 同样支持对 VNC 的嗅探，同时支持端口修改。

（3）VNC 的配置信息同样被写入注册表系统中，其中包括连接的密码和端口。利用 webshell 的注册表读取功能进行读取加密算法，然后破解。

（4）VNC 拒绝服务攻击（CVE-2015-5239）。（http://blogs.360.cn/post/vnc%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%BC%8F%E6%B4%9Ecve-2015-5239%E5%88%86%E6%9E%90.html）（5）VNC 权限提升（CVE-2013-6886）。

**6379** **端口渗透剖析**

Redis 是一个开源的使用 c 语言写的，支持网络、可基于内存亦可持久化的日志型、key-value 数据库。关于这个数据库这两年还是很火的，暴露出来的问题也很多。特别是前段时间暴露的未授权访问。

（1）爆破：弱口令

（2）未授权访问 + 配合 ssh key 提权。（http://www.alloyteam.com/2017/07/12910/）

**7001/7002** **端口渗透剖析**

7001/7002 通常是 weblogic 中间件端口

（1）弱口令、爆破，弱密码一般为 weblogic/Oracle@123 or weblogic

（2）管理后台部署 war 后门

（3）SSRF

（4）反序列化漏洞（5）（weblogic_uachttps://github.com/vulhub/vulhub/tree/master/weblogic/ssrfhttps://bbs.pediy.com/thread-224954.htmhttps://fuping.site/2017/06/05/Weblogic-Vulnerability-Verification/https://blog.gdssecurity.com/labs/2015/3/30/weblogic-ssrf-and-xss-cve-2014-4241-cve-2014-4210-cve-2014-4.html

**8080** **端口渗透剖析**

8080 端口通常是 apache_Tomcat 服务器默认监听端口，apache 是世界使用排名第一的 web 服务器。国内很多大型系统都是使用 apache 服务器，对于这种大型服务器的渗透，主要有以下方法：

（1）Tomcat 远程代码执行漏洞（https://www.freebuf.com/column/159200.html）

（2）Tomcat 任意文件上传。（http://liehu.tass.com.cn/archives/836）

（3）Tomcat 远程代码执行 & 信息泄露。（https://paper.seebug.org/399/）

（4）Jboss 远程代码执行。（http://mobile.www.cnblogs.com/Safe3/archive/2010/01/08/1642371.html）

（5）Jboss 反序列化漏洞。（https://www.zybuluo.com/websec007/note/838374）（6）Jboss 漏洞利用。（https://blog.csdn.net/u011215939/article/details/79141624）

**27017** **端口渗透剖析**

MongoDB，NoSQL 数据库；攻击方法与其他数据库类似

（1）爆破：弱口令

（2）未授权访问；（http://www.cnblogs.com/LittleHann/p/6252421.html）

（3）http://www.tiejia