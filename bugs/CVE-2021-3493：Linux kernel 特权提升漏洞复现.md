> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/yxAF-PgItl9g5Bb80dj27g)

**上方蓝色字体关注我们，一起学安全！**

**作者：****Whippet****@Timeline Sec  
**

**本文字数：457**

**阅读时长：3～4min**

**声明：请勿用作违法用途，否则后果自负**

**0x01 简介**  

  

_linux kernel_ 一般指 Linux 内核。Linux 是一种开源电脑操作系统内核。它是一个用 C 语言写成，符合 POSIX 标准的类 Unix 操作系统。  

**0x02 漏洞概述**  

  

Linux 内核中 overlayfs 文件系统中的 Ubuntu 特定问题，它未正确验证关于用户名称空间的文件系统功能的应用。由于 Ubuntu 附带了一个允许非特权的 overlayfs 挂载的补丁，因此本地攻击者可以使用它来获得更高的特权。

**0x03 影响版本**  

  

Ubuntu 20.10

Ubuntu 20.04 LTS

Ubuntu 18.04 LTS

Ubuntu 16.04 LTS

Ubuntu 14.04 ESM

**0x04 环境搭建**  

  

利用虚拟机搭建 Ubuntu18.04.5  

镜像下载地址：

```
http://mirrors.ustc.edu.cn/ubuntu-releases/18.04/ubuntu-18.04.5-desktop-amd64.iso
```

**0x05 漏洞复现**  

  

exploit.c 下载地址如下  

```
https://github.com/briskets/CVE-2021-3493
```

查看内核版本  

![](https://mmbiz.qpic.cn/mmbiz_png/VfLUYJEMVsjicwro7IYmszBqDJuRia53F7gwmfico0cicwT64yjs9KfmV3HjJ1za4poyz8qq7f8Es6pVhhNotjDDOg/640?wx_fmt=png)

编译 exploit.c，给执行权限，执行  

```
gcc exploit.c -o exploit
chmod +x exploit
./exploit
```

![](https://mmbiz.qpic.cn/mmbiz_png/VfLUYJEMVsjicwro7IYmszBqDJuRia53F7h0VqdhicFlkiajOwhoUsgnnicaCc0xfx9K18XrsZ1lN0moLia5IQVNOkEw/640?wx_fmt=png)

**0x06 修复方式**  

  

更新 Linux 内核至 5.11

```
参考链接：
```

https://github.com/briskets/CVE-2021-3493

https://www.pwnwiki.org/index.php?title=CVE-2021-3493_linux_kernel_%E7%89%B9%E6%AC%8A%E6%8F%90%E5%8D%87%E6%BC%8F%E6%B4%9E/zh-cn

![](https://mmbiz.qpic.cn/mmbiz_png/VfLUYJEMVsiaASAShFz46a4AgLIIYWJQKpGAnMJxQ4dugNhW5W8ia0SwhReTlse0vygkJ209LibhNVd93fGib77pNQ/640?wx_fmt=png)

  

![](https://mmbiz.qpic.cn/mmbiz_jpg/VfLUYJEMVshAoU3O2dkDTzN0sqCMBceq8o0lxjLtkWHanicxqtoZPFuchn87MgA603GrkicrIhB2IKxjmQicb6KTQ/640?wx_fmt=jpeg)

**阅读原文看更多复现文章  
**

Timeline Sec 团队  

安全路上，与你并肩前行