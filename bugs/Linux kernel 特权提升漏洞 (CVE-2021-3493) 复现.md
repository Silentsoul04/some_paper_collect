> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [mp.weixin.qq.com](https://mp.weixin.qq.com/s/D2LM7OUvbiNYXfPG-peU3A)

简介  

linux kernel 一般指 Linux 内核。Linux 是一种开源电脑操作系统内核。它是一个用 C 语言写成，符合 POSIX 标准的类 Unix 操作系统。

漏洞概述

OverlayFS 漏洞允许 Ubuntu 下的本地用户获得 root 权限。Linux 内核中 overlayfs 文件系统中的 Ubuntu 特定问题，在该问题中，它未正确验证关于用户名称空间的文件系统功能的应用程序。由于 Ubuntu 附带了一个允许非特权的 overlayfs 挂载的补丁，因此本地攻击者可以使用它来获得更高的特权。

目前漏洞细节已公开，请受影响的用户尽快采取措施进行防护。

影响版本

```
Ubuntu 20.10
Ubuntu 20.04 LTS
Ubuntu 18.04 LTS
Ubuntu 16.04 LTS
Ubuntu 14.04 ESM
```

环境搭建：

ubuntu 的版本查询命令：

```
lsb_release -a
```

上面命令的输出应该如下：

```
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 20.04.1 LTS
Release:    20.04
Codename:   xenial
```

漏洞利用：

```
https://github.com/briskets/CVE-2021-3493
```

编译运行：

```
gcc exploit.c -o exploit
chmod +x exploit
./exploit
```

安全防护：

```
https://ubuntu.com/security/notices/USN-4915-1
https://ubuntu.com/security/notices/USN-4916-1
https://ubuntu.com/security/notices/USN-4917-1
```

参考链接：

```
https://ubuntu.com/security/CVE-2021-3493
https://ssd-disclosure.com/ssd-advisory-overlayfs-pe/
```

演示视频：  

 ![](http://wx.qlogo.cn/finderhead/Q3auHgzwzM7jApYLOor9Lvol1nCkH6WMHv2oH17MN9MXCqnZVAUhOg/0) **Shadowsec** (CVE-2021-3493) 复现 视频号